<!DOCTYPE html>
<html lang="en">

    <head>
        <title>Mission To Mars</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <script src="http://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
        <link rel="stylesheet" href="../css/common.css">
        <link rel="stylesheet" href="../css/custom.css">
        <link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.min.css'>
        <link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.theme.min.css'>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.min.js'></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
    </head>

<body class="background_stars">
<!-- navbar starts here -->
<div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 ">
    <div class="col-md-6 col-lg-6 col-sm-6 col-xs-6 ">
        <h2 class="font-white">Mission To Mars</h2>
    </div>
    <div class="col-md-6 col-lg-6 col-sm-6 col-xs-6 ">
        <input type="submit" name="" value="Logout" id="" class=" logout_button pull-right">
    </div>
</div>
<!-- navbar ends here -->
<div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 text-center create_box font-white">
    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 text-center">
        <h3>Employ Fast</h3>
    </div>
    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 text-center">
        <div class="col-md-6 col-lg-6 col-sm-6 col-xs-6">
            <!-- each field start-->
            <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 margin-top-20">
                <div class="col-md-3 col-lg-3 col-sm-3 col-xs-12">
                    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                        <p class="font-size-16">Age</p>
                    </div>
                </div>
                <div class="col-md-9 col-lg-9 col-sm-9 col-xs-12">
                    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                        <select class="form-control woo-inputs-sm form_fields" name="Purpose" id="load_age">
                            <option>Not Selected</option>
                            <option>18-25</option>
                            <option>26-31</option>
                            <option>31-Above</option>

                        </select>
                    </div>

                </div>
            </div>
            <!--each field end-->
        </div>

        <div class="col-md-6 col-lg-6 col-sm-6 col-xs-6">
            <!-- each field start-->
            <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 margin-top-20">
                <div class="col-md-3 col-lg-3 col-sm-3 col-xs-12">
                    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                        <p class="font-size-16">Qualification</p>
                    </div>
                </div>
                <div class="col-md-9 col-lg-9 col-sm-9 col-xs-12">
                    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                        <select class="form-control woo-inputs-sm form_fields" name="Purpose" id="load_qual">
                            <option>Not Selected</option>

                        </select>
                    </div>

                </div>
            </div>
            <!--each field end-->
        </div>

        <div class="col-md-6 col-lg-6 col-sm-6 col-xs-6">
            <!-- each field start-->
            <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 margin-top-20">
                <div class="col-md-3 col-lg-3 col-sm-3 col-xs-12">
                    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                        <p class="font-size-16">Criminal Record</p>
                    </div>
                </div>
                <div class="col-md-9 col-lg-9 col-sm-9 col-xs-12">
                    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                        <select class="form-control woo-inputs-sm form_fields" name="Purpose" id="load_records">
                            <option>Not Selected</option>
                            <option>Fit</option>
                            <option>Unfit</option>

                        </select>
                    </div>

                </div>
            </div>
            <!--each field end-->
        </div>

        <div class="col-md-6 col-lg-6 col-sm-6 col-xs-6">
            <!-- each field start-->
            <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 margin-top-20">
                <div class="col-md-3 col-lg-3 col-sm-3 col-xs-12">
                    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                        <p class="font-size-16">Candidates</p>
                    </div>
                </div>
                <div class="col-md-9 col-lg-9 col-sm-9 col-xs-12">
                    <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                        <input class="form-control width-100 form_fields" type="text" id="" name ="" placeholder="Enter Number of Canditates">
                        <input type="submit" name="" value="Find" id="find_button" class="pull-right logout_button">
                    </div>
                </div>
            </div>
            <!--each field end-->

        </div>


    </div>

</div>

<div id="" class="col-md-12 col-lg-12 col-sm-12 col-xs-12 color-white create_box">
    <h2 align="center"> Results</h2>
    <div class="col-md-3 col-lg-3 col-sm-3 col-xs-12">
        <h3 class="text-center">Candidate:</h3>
        <div id="result" class="text-center">

        </div>


    </div>
    <div class="col-md-3 col-lg-3 col-sm-3 col-xs-12">
        <h3 class="text-center">Candidate age:</h3>
        <div id="result_age" class="text-center">

        </div>
    </div>
    <div class="col-md-3 col-lg-3 col-sm-3 col-xs-12">
        <h3 class="text-center">Candidate Qualification:</h3>
        <div id="result_Qualification" class="text-center">

        </div>
    </div>





</div>


</body>

<script>

    // Load qual starts
    var bodyqual= " ";
    var Urlqual = "http://localhost:8082/getQualifications";
    var xhrqual = new XMLHttpRequest();
    xhrqual.open('GET', Urlqual, true);
    xhrqual.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
    xhrqual.send(JSON.stringify(bodyqual));
    xhrqual.onloadend = processRequestqual;

    function processRequestqual(e) {
        var qual = JSON.parse(xhrqual.responseText);
        console.log(qual);

        for (var i=0;i<qual.length;i++){
            //console.log(missions_load[i].id)
            var option3 = document.createElement('option');
            option3.id = qual[i].qualificationId;
            option3.innerHTML = qual[i].qualificationName;
            //document.body.appendChild(option3);
            document.getElementById("load_qual").appendChild(option3);

        }

    }
    // Load qual ends


    $(document).on('click', '#find_button', function(){


        var age= $("#load_age").val();
        var qual= $("#load_qual").val();
        var records= $("#load_records").val();


        // N candidates starts
        var bodycandidates= {"age":age,
            "heathRecord":records,
            "qualification":qual
        };
        var Urlcandidates = "http://localhost:8082/getNCandidates";
        var xhrcandidates = new XMLHttpRequest();
        xhrcandidates.open('POST', Urlcandidates, true);
        xhrcandidates.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
        xhrcandidates.send(JSON.stringify(bodycandidates));
        xhrcandidates.onloadend = processRequestcandidates;

        function processRequestcandidates(e) {
            var candidates = JSON.parse(xhrcandidates.responseText);
            console.log(candidates);

            for (var i=0;i<candidates.length;i++){

                var divM = document.createElement('div');
                divM.id = candidates[i].id;
                divM.innerHTML = candidates[i]._id;
                //document.body.appendChild(divM);
                document.getElementById("result").appendChild(divM);

                var div2 = document.createElement('div');
                div2.id = candidates[i].id;
                div2.innerHTML = candidates[i].age;
                //document.body.appendChild(divM);
                document.getElementById("result_age").appendChild(div2);

                var div3 = document.createElement('div');
                div3.id = candidates[i].id;
                div3.innerHTML = candidates[i].qualification;
                //document.body.appendChild(divM);
                document.getElementById("result_Qualification").appendChild(div3);

            }

        }
        // N candidates  ends


    });
</script>
</html>